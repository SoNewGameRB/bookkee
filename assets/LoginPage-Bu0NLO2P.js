import{r as i,o as I,u as b,c as v,b as o,i as d,j as g,v as u,l as c,g as f}from"./index-CMD9G3lJ.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={id:"binbox"},_={id:"box"},h={for:"accont"},x={for:"password"},L="188944110530-5dupttvorlfgbb87455u0mueat8ov8qv.apps.googleusercontent.com",B={__name:"LoginPage",setup(y){const n=i(""),l=i(""),s=b();I(()=>{localStorage.getItem("isLoggedIn")==="true"&&s.push("/dashboard"),window.google&&window.google.accounts?(google.accounts.id.initialize({client_id:L,callback:p}),google.accounts.id.renderButton(document.getElementById("googleSignInButton"),{theme:"outline",size:"large"})):console.error("Google SDK 未載入，請確認 `index.html` 是否包含 `gsi/client`")});const p=t=>{console.log("Google 登入成功:",t);const e=JSON.parse(atob(t.credential.split(".")[1]));console.log("Google 使用者:",e),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("userRole","google"),localStorage.setItem("userName",e.name),s.push("/dashboard")},a=()=>{const t={username:"admin",password:"1234"};n.value===t.username&&l.value===t.password?(alert("登入成功！"),localStorage.setItem("isLoggedIn","true"),s.push("/dashboard")):alert("帳號或密碼錯誤")},m=()=>{alert("以訪客模式登入！"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("userRole","guest"),s.push("/dashboard")};return(t,e)=>(f(),v("div",S,[o("div",_,[e[4]||(e[4]=o("img",{src:"https://cdn-icons-png.flaticon.com/512/5264/5264565.png",alt:"logo",id:"logo"},null,-1)),o("label",h,[e[2]||(e[2]=d("帳號: ")),g(o("input",{type:"text",name:"accont",id:"accont","onUpdate:modelValue":e[0]||(e[0]=r=>n.value=r),placeholder:"帳號",onKeyup:c(a,["enter"])},null,544),[[u,n.value]])]),o("label",x,[e[3]||(e[3]=d("密碼: ")),g(o("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=r=>l.value=r),placeholder:"密碼",onKeyup:c(a,["enter"])},null,544),[[u,l.value]])]),o("button",{id:"login",onClick:a},"登入"),o("button",{id:"guest-mode",onClick:m},"訪客模式"),e[5]||(e[5]=o("div",{id:"googleSignInButton"},null,-1))])]))}},K=w(B,[["__scopeId","data-v-ff37a077"]]);export{K as default};
